<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Xi by arshajii</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Xi</h1>
        <h2>A simple scripting language written in Java</h2>
        <a href="https://github.com/arshajii/xi" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Xi <sub><em>beta</em></sub>
</h1>

<p><strong>a simple scripting language written in Java</strong></p>

<p>The goal of Xi is to allow users to write concise code that can carry out complicated tasks. Some concepts are borrowed from Python, others from
Java, but most are original. Be sure to check out the <a href="https://github.com/arshajii/Xi/wiki">wiki</a> to learn more.</p>

<h2>Installing and Running</h2>

<h3>Download</h3>

<pre><code>$ curl -O xiscript.org/xi.jar
</code></pre>

<h3>Run</h3>

<pre><code>$ java -jar xi.jar myfile.xi
</code></pre>

<p>For example:</p>

<pre>
$ touch myscript.xi
$ echo "println \"hello world\"" &gt;&gt; myscript.xi
$ cat myscript.xi
<i><b>println "hello world"</b></i>
$ java -jar xi.jar myscript.xi
<i><b>hello world</b></i>
</pre>

<h2>Examples</h2>

<p>Refer to the <a href="https://github.com/arshajii/xi/tree/master/examples">examples</a> folder for a full list of examples and descriptions.</p>

<h3>hello.xi</h3>

<div class="highlight"><pre><span class="n">println</span> <span class="s2">"hello world"</span>
</pre></div>

<p>Not much to say here - just a simple "hello world" program.</p>

<hr><h3>euler1.xi</h3>

<div class="highlight"><pre><span class="n">println</span> <span class="err">$</span> <span class="o">/</span> <span class="p">{</span><span class="o">|</span> <span class="o">!</span> <span class="sx">% . </span><span class="mi">3</span> <span class="o">!</span> <span class="sx">% . </span><span class="mi">5</span><span class="p">}</span> <span class="p">,</span> <span class="mi">1000</span>
</pre></div>

<p>This is a solution to <a href="http://projecteuler.net/problem=1">Problem #1</a> of <a href="http://projecteuler.net">Project Euler</a>. The problem reads as follows:</p>

<blockquote>
<p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.
Find the sum of all the multiples of 3 or 5 below 1000.</p>
</blockquote>

<p>First, we create a list of integers from <code>0</code> to <code>999</code> with <code>, 1000</code>. Next, we filter this list (using <code>/</code>) with the block <code>{| ! % . 3 ! % . 5}</code>; in other words,
we remove any element <code>.</code> for which <code>{| ! % . 3 ! % . 5}</code> is <em>not</em> true. Further, this block only returns true if <code>.</code> is either divisible by <code>3</code> (i.e.
<code>! % . 3</code>) or if it is divisible by <code>5</code> (i.e. <code>! % . 5</code>). This results in a list of all multiples of either <code>3</code> or <code>5</code> less than <code>1000</code>. Lastly, we
find the sum of this list using <code>$</code>, resulting in the desired answer.</p>

<p>Equivalent code in Java would be:</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Euler1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span> <span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
                <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<hr><h3>euler16.xi</h3>

<div class="highlight"><pre><span class="n">println</span> <span class="err">$</span> <span class="err">@</span> <span class="p">{</span><span class="n">int</span> <span class="o">.</span><span class="p">}</span> <span class="n">list</span> <span class="n">str</span> <span class="o">**</span> <span class="mi">2</span><span class="n">L</span> <span class="mi">1000</span>
</pre></div>

<p>This is a solution to <a href="http://projecteuler.net/problem=16">Problem #16</a> of <a href="http://projecteuler.net">Project Euler</a>. The problem reads as follows:</p>

<blockquote>
<p>2^15 = 32768 and the sum of its digits is 3 + 2 + 7 + 6 + 8 = 26.</p>

<p>What is the sum of the digits of the number 2^1000?</p>
</blockquote>

<p>This program works by first actually evaluating 2^1000: <code>** 2L 1000</code>. Notice here that <code>2L</code> is a <em>long</em> literal so we have the capacity to store a number this large. </p>

<p>Once we have this number, we perform two operations, namely <code>str</code> followed by <code>list</code>. <code>str</code> turns the number into a string, and <code>list</code> turns this string into a list of its constituent character. For example, <code>list str "1234"</code> would result in <code>["1", "2", "3", "4"]</code>.</p>

<p>After forming this list, we perform an <code>@</code> mapping on it using the block <code>{int .}</code>. In other words, we convert each 'int string' element of the list to an actual integer. For the previous example, we would obtain <code>[1, 2, 3, 4]</code>. Ultimately, we have taken a number and used it to create a list of nonnegative integers less than 10 representing its digits.</p>

<p>The final operation is <code>$</code>, which simply adds up the elements of this list to obtain the desired result.</p>

<p>A short solution to this problem in Java would be</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Euler16</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">digits</span> <span class="o">=</span> <span class="n">BigInteger</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="mi">2L</span><span class="o">).</span><span class="na">pow</span><span class="o">(</span><span class="mi">1000</span><span class="o">).</span><span class="na">toString</span><span class="o">().</span><span class="na">toCharArray</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">:</span> <span class="n">digits</span><span class="o">)</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">c</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<hr><h3>factorial2.xi</h3>

<div class="highlight"><pre><span class="n">factorial</span> <span class="p">:</span><span class="o">=</span> <span class="n">func</span> <span class="p">(</span><span class="s1">'n'</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="mi">2</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="p">}</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">*</span> <span class="n">n</span> <span class="n">factorial</span> <span class="o">-</span> <span class="n">n</span> <span class="mi">1</span>
    <span class="p">}</span>   
<span class="p">}</span>

<span class="k">for</span> <span class="s1">'i'</span> <span class="p">,</span> <span class="mi">10</span> <span class="p">{</span>
    <span class="n">println</span> <span class="n">factorial</span> <span class="n">i</span>
<span class="p">}</span>
</pre></div>

<p>This example exhibits the classic recursive factorial function, which works based on the fact that <code>0! = 1</code> and <code>n! = n * (n-1)!</code> for all <code>n</code> greater than <code>0</code>.</p>

<p>The <code>if</code>-statement within the <code>factorial</code> function checks if <code>n</code> is less than <code>2</code> (we could have also checked that <code>n</code> is less than <code>1</code> but since <code>0! = 1! = 1</code> we might as well include both <code>0</code> and <code>1</code> in the condition). If this condition is true, we know that <code>n</code> is either <code>0</code> or <code>1</code> and hence we return <code>1</code>. Otherwise, we return <code>n</code> multuplied by <code>factorial - n 1</code>, for the reason outlined above.</p>

<p>The subsequent <code>for</code>-loop simply prints the factorials of every integer from <code>0</code> through <code>9</code> to ensure that everything is in order.</p>

<hr><h3>fibonacci.xi</h3>

<div class="highlight"><pre><span class="n">n</span> <span class="p">:</span><span class="o">=</span> <span class="mi">5</span>
<span class="n">println</span> <span class="o">+</span> <span class="s2">"First "</span> <span class="o">+</span> <span class="n">n</span> <span class="s2">" Fibonacci numbers:"</span>

<span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span>
<span class="k">do</span> <span class="n">n</span> <span class="p">{</span>
    <span class="n">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">a</span>
    <span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="o">+</span> <span class="n">a</span> <span class="n">b</span>
    <span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="n">c</span>
    <span class="n">println</span> <span class="n">b</span>
<span class="p">}</span>
</pre></div>

<p>This code prints the first <code>n</code> terms of the Fibonacci sequence. We first define <code>a</code> and <code>b</code> to be the first and second terms of the sequence, respectively.
Then we have a <code>do</code>-loop which performs <code>n</code> iterations, shifting <code>a</code> and <code>b</code> one step up the sequence and printing the appropriate term on each iteration.
To "shift up the sequence" we simply assign the old value of <code>a</code> to <code>b</code> and assign the <code>a + b</code> to <code>a</code>.</p>

<hr><h3>identity.xi</h3>

<p>This example demonstrates <em>Euler's identity</em>: <em><code>e^(iπ) + 1 = 0</code></em>:</p>

<div class="highlight"><pre><span class="n">math</span> <span class="p">:</span><span class="o">=</span> <span class="n">import</span> <span class="s1">'math'</span>
<span class="n">pi</span>   <span class="p">:</span><span class="o">=</span> <span class="o">=&gt;</span> <span class="n">math</span> <span class="s1">'PI'</span>
<span class="n">e</span>    <span class="p">:</span><span class="o">=</span> <span class="o">=&gt;</span> <span class="n">math</span> <span class="s1">'E'</span>

<span class="n">z</span> <span class="p">:</span><span class="o">=</span> <span class="o">*</span> <span class="n">pi</span> <span class="mi">1</span><span class="n">i</span>
<span class="n">println</span> <span class="o">+</span> <span class="o">**</span> <span class="n">e</span> <span class="n">z</span> <span class="mi">1</span>
</pre></div>

<p>First, we import <code>PI</code> and <code>E</code> from the <code>math</code> module, and assign them to local variables <code>pi</code> and <code>e</code>, respectively. Next, we create a complex variable <code>z</code> with the value <code>* pi 1i</code>, or in standard mathematical notation: <code>πi</code>. Finally, we print <code>e</code> to the power of <code>z</code> plus <code>1</code>, resulting in <code>0</code>.</p>

<hr><h3>quine.xi</h3>

<div class="highlight"><pre><span class="n">reader</span> <span class="p">:</span><span class="o">=</span> <span class="o">=&gt;</span> <span class="n">file</span> <span class="s2">"examples/quine.xi"</span> <span class="s1">'lnreader'</span>

<span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="o">~</span> <span class="n">reader</span>
<span class="k">while</span> <span class="p">{</span><span class="o">!=</span> <span class="n">s</span> <span class="n">null</span><span class="p">}</span> <span class="p">{</span>
    <span class="n">println</span> <span class="n">s</span>
    <span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="o">~</span> <span class="n">reader</span>
<span class="p">}</span>
</pre></div>

<p>In computer programming, a <em>quine</em> is a program that outputs a copy of its own source code. The above code accomplishes this by first creating a file object representing its own source file (i.e. <code>file "examples/quine.xi"</code>) and then obtaining the <code>'lnreader'</code> attribute of this file (using the <code>=&gt;</code> operator). All files have an <code>'lnreader'</code> attribute that holds a lambda function capable of reading the file line by line. This lambda is stored in a variable called <code>reader</code> and subsequently used to print the contents of the source file.</p>

<p>Note that the <code>~</code> operator can be used to evaluate lambda functions that take no arguments.</p>

<h2>To Do</h2>

<h3>Language-Related</h3>

<ul>
<li>
<code>[✓]</code> Implement lists subtypes thereof.</li>
<li>
<code>[✓]</code> Allow for the creation of variables.</li>
<li>
<code>[✓]</code> Overload various operations for various other data types, e.g. <code>+</code> for lists.</li>
<li>
<code>[✓]</code> Implement sets and set operations.</li>
<li>
<code>[✓]</code> Allow for the easy creation of custom functions from within Xi.</li>
<li>
<code>[ ]</code> Make a smarter parser so as to give the user more flexibility.</li>
<li>
<code>[ ]</code> More accurate and more specific error messages, including line number and specifically why an error occured.</li>
<li>
<code>[✓]</code> Add a <em>long</em> or <em>BigInteger</em> numerical data type.</li>
<li>
<code>[ ]</code> Thoroughly update built-in modules.</li>
</ul><h3>Miscellaneous</h3>

<ul>
<li>
<code>[✓]</code> Include domain name in Java source package name.</li>
<li>
<code>[ ]</code> More comprehensive and up-to-date documentation.</li>
<li>
<code>[ ]</code> More comprehensive and up-to-date to-do list.</li>
</ul><h2>License</h2>

<blockquote>
<p>Copyright (c) 2013 A. R. Shajii</p>

<p>Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:</p>

<p>The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</blockquote>

<p>The text above is included in <a href="https://github.com/arshajii/xi/blob/master/LICENSE.txt"><code>LICENSE.txt</code></a>.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/arshajii/xi/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/arshajii/xi/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/arshajii/xi"></a> is maintained by <a href="https://github.com/arshajii">arshajii</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>